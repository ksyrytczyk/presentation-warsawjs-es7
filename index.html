<!DOCTYPE html>
<html lang="en">
<head>
    <title>WarsawJS Presentation: ECMAScript 7</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=792, user-scalable=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <link rel="stylesheet" href="themes/warsawjs/styles/ribbon-theme.css">
    <link rel="stylesheet" href="themes/warsawjs/styles/warsawjs-theme.css">

    <style>
        .stage {
            position: absolute;
            top: 100px;
            right: 100px;
            height: 48px;
            width: auto;
        }

        .slide .with-code {
            margin: -70px auto;
            overflow: visible;
        }

        .slide .with-code h2 {
            font-size: 42px;
        }

        .transpiler-logo {
            position: absolute;
            width: auto;
            height: 150px;
        }

        .transpiler-logo.babel {
            top: 50px;
            left: 10px;

            -webkit-transform: rotate(-15deg);
            -moz-transform: rotate(-15deg);
            -ms-transform: rotate(-15deg);
            -o-transform: rotate(-15deg);
        }

        .transpiler-logo.traceur {
            bottom: 30px;
            right: 30px;
        }
    </style>

    <script src="vendor/executor.js"></script>
    <script src="vendor/typed-objects.js"></script>
    <script src="vendor/simd.js"></script>
    <script src="vendor/observable.js"></script>
</head>
<body class="list">
    <header class="caption">
        <h1>WarsawJS Presentation: ECMAScript 7</h1>
        <p>We talk about JavaScript. Each month in Warsaw, Poland.</p>
    </header>

    <section class="slide front-page">
        <div>
            <div class="logo">
                <!-- Logo WarsawJS -->
                <img src="pictures/logo/logo-light.png">
            </div>
            <div class="details">
                <!-- 1. Avatar -->
                <img style="width:200px;height:200px"src="pictures/speaker.jpg" alt="Speaker" />

                <!-- 2. Speaker -->
                <h2>Krzysztof Syrytczyk</h2>

                <!-- 3. Presentation title -->
                <h2><strong>"ECMAScript 7 - Overview"</strong></h2>

                <!-- 4. Presentation date -->
                <h2>2015-10-21</h2>

                <!-- 5. Contact the speaker -->
                <h2><a href="https://github.com/ksyrytczyk">@ksyrytczyk</a></h2>
            </div>
        </div>
    </section>








    <section class="slide">
        <div>
            <h2>What is ECMAScript?</h2>

            <p>
                ECMAScript is a trademarked scripting language specification standardized by Ecma International 
                in ECMA-262 and ISO/IEC 16262. Well-known implementations of the language, such as JavaScript, 
                JScript and ActionScript are widely used for client-side scripting on the Web.
            </p>
        </div>
    </section>










    <section class="slide">
        <div>
            <h2 style="text-align:center">Stages of ECMAScript</h2>
            
            <div style="display:block;margin:0 auto; width:100%">
                <img style="width:100%;height:auto" src="pictures/eiffel.jpg" alt="">
            </div>
        </div>
    </section>

    <section class="slide shout">
        <div>
            <h2 style="text-align:center">Stage 0<br><span style="color:#f7302f">Strawman</span></h2>
        </div>
    </section>

    <section class="slide shout">
        <div>
            <h2 style="text-align:center">Stage 1<br><span style="color:#f7302f">Proposal</span></h2>
        </div>
    </section>


    <section class="slide shout">
        <div>
            <h2 style="text-align:center">Stage 2<br><span style="color:#f7302f">Draft</span></h2>
        </div>
    </section>


    <section class="slide shout">
        <div>
            <h2 style="text-align:center">Stage 3<br><span style="color:#f7302f">Candidate</span></h2>
        </div>
    </section>

    <section class="slide shout">
        <div>
            <h2 style="text-align:center">Stage 4<br><span style="color:#f7302f">Finished</span></h2>
        </div>
    </section>


    <section class="slide shout">
        <div>
            <h2 style="text-align:center"><span style="color:#f7302f">Examples</span></h2>
        </div>
    </section>



    <section class="slide">
        <div>
            <h2>Sorry...</h2>
            <p>#404 - Features not found</p>

            <img class="stage" src="pictures/finished.png" />
        </div>
    </section>

    <!--CANDIDATE-Exponential-->
    <section class="slide">
        <div class="with-code">
            <h2>Exponential</h2>
<div class="executor-code" data-font-size="18" style="height:200px">let a, b

a = 2; b = 8;
console.log('2 ** 8 is ', a ** b);
console.log('Math.pow(2, 8) is ', Math.pow(a, b));

a = 2; b = 16;
console.log('2 ** 16 is ', a **= b);

a = Infinity; b = -1;
console.log('Infinity ** -1 is ', a ** b);

a = NaN; b = 0;
console.log('NaN ** 0 is ', a ** b);

a = 0; b = Infinity;
console.log('0 ** Infinity', a ** b);

a = 2; b = 1024;
console.log('2 ** 1024 is ', a ** b);
console.log('Math.pow(2, 1024)', Math.pow(a, b));
</div>

            <img class="stage" src="pictures/candidate.png" />
        </div>
    </section>





<!--CANDIDATE-Array.includes-->
    <section class="slide">
        <div class="with-code">
            <h2>Array.includes</h2>
<div class="executor-code" data-font-size="18" style="height:200px">let stack, needle;

stack = [1, 2, 3]; needle = 2;
console.log('2 in [1, 2, 3] ', stack.includes(needle));

stack = [1, 2, NaN]; needle = NaN;
console.log('NaN in [1, 2, NaN] ', stack.includes(needle));

stack = [1, 2, -0]; needle = +0;
console.log('+0 in [1, 2, -0] ', stack.includes(needle));

stack = [1, [2, 3, 4], 5]; needle = 2;
console.log('2 in [1, [2, 3, 4], 5] ', stack.includes(needle));

stack = [1, [2, 3, 4], 5]; needle = [2, 3, 4];
console.log('[2, 3, 4] in [1, [2, 3, 4], 5] ', stack.includes(needle));

stack = ['a', 'b', 'c']; needle = 'c';
console.log(`c in [a, b, c] from 1 position`, stack.includes(needle, 1));
</div>

            <img class="stage" src="pictures/candidate.png" />
        </div>
    </section>




<!--CANDIDATE-Array.includes-->
    <section class="slide">
        <div class="with-code">
            <h2>SIMD</h2>
<div class="executor-code" data-font-size="18" style="height:200px">let a, b, raw, verbose;

a = SIMD.Float32x4(1, 2, 3, 4);
b = SIMD.Float32x4(5, 10, 15, 20);

raw = SIMD.Float32x4.add(a, b);
verbose = [
    SIMD.Float32x4.extractLane(raw, 0),
    SIMD.Float32x4.extractLane(raw, 1),
    SIMD.Float32x4.extractLane(raw, 2),
    SIMD.Float32x4.extractLane(raw, 3)
].join(', ');

console.log(`[1, 2, 3, 4] + [5, 10, 15, 20] is ${verbose}`);
console.log(raw);
</div>

            <img class="stage" src="pictures/candidate.png" />
        </div>
    </section>




<!--CANDIDATE-Async-->
    <section class="slide">
        <div class="with-code">
            <h2>Async</h2>
<div class="executor-code" data-font-size="18" style="height:200px">function wait(t){
    return new Promise((r) => setTimeout(r, t));
}

async function asyncFoo(){
    console.log("1");
    await wait(1000);
    console.log("2");
}

asyncFoo().then(() => console.log("3"));
</div>

            <img class="stage" src="pictures/candidate.png" />
        </div>
    </section>




<!--DRAFT-Object.observe-->
    <section class="slide">
        <div class="with-code">
            <h2>Object.observe</h2>
<div class="executor-code" data-font-size="18" style="height:200px">let obj = { a: 1, b: { c: 'Lorem', d: 'Ipsum' } };
let fnList = {
    add: () => { obj.prop1 = 12 },
    delete: () => { delete obj.b.c },
    reconfigure: () => { Object.defineProperty(obj, 'b', { writable: false }) },
    setPrototype: () => { Object.setPrototypeOf(obj, {}) },
    preventExtensions: () => { Object.seal(obj) }
};

Object.observe(obj, (changes) => { console.debug(changes); });

setTimeout(() => { fnList['add'](); }, 0);
setTimeout(() => { fnList['delete'](); }, 1000);
setTimeout(() => { fnList['reconfigure'](); }, 2000);
setTimeout(() => { fnList['setPrototype'](); }, 3000);
setTimeout(() => { fnList['preventExtensions'](); }, 4000);
</div>

            <img class="stage" src="pictures/draft.png" />
        </div>
    </section>





<!--DRAFT-Object.values/Object.entries-->
    <section class="slide">
        <div class="with-code">
            <h2>Object.values/Object.entries</h2>
<div class="executor-code" data-font-size="18" style="height:200px">let obj = { a: 1, b: 2, c: 3, d: 5 };

console.log(Object.keys(obj)); // ES6
console.log(Object.values(obj));
console.log(Object.entries(obj));
</div>

            <img class="stage" src="pictures/draft.png" />
        </div>
    </section>




<!--DRAFT-Rest/Spread-Properties-->
    <section class="slide">
        <div class="with-code">
            <h2>Rest/Spread Properties</h2>
<div class="executor-code" data-font-size="18" style="height:200px">let { a, b, ...rest } = { a: 1, b: 2, c: 3, d: { e: NaN } };

console.log(`a is ${a}`);
console.log(`b is ${b}`);
console.log(`rest is `, rest);
console.log(`rest.d.e is ${rest.d.e}`);
</div>

            <img class="stage" src="pictures/draft.png" />
        </div>
    </section>



<!--DRAFT-Commas-->
    <section class="slide">
        <div class="with-code">
            <h2>Trailing commas</h2>
<div class="executor-code" data-font-size="18" style="height:200px">function foo(
    param1,
    param2, // Extra comma
) { 
    console.log(param1, param2);
}
 
foo(
    'foo',
    'bar', // Extra comma
);
</div>

            <img class="stage" src="pictures/draft.png" />
        </div>
    </section>








<!--PROPOSAL-Typed-objects-->
    <section class="slide">
        <div class="with-code">
            <h2>Typed Objects</h2>
<div class="executor-code" data-font-size="18" style="height:200px">var Point = new StructType({
    x: int32,
    y: int32
});

var point = new Point({
    x: 42,
    y: 420
});

console.log(point);
</div>

            <img class="stage" src="pictures/proposal.png" />
        </div>
    </section>




<!--PROPOSAL-export-from-->
    <section class="slide">
        <div class="with-code">
            <h2>Export-from Statements</h2>
<div class="executor-code" data-font-size="18" style="height:200px">import {v} from "mod";

export {v} from "mod";
</div>

            <img class="stage" src="pictures/proposal.png" />
        </div>
    </section>





<!--PROPOSAL-decorators-->
    <section class="slide">
        <div class="with-code">
            <h2>Class/Property Decorators</h2>
<div class="executor-code" data-font-size="18" style="height:200px">class Meal {
    @readonly
    entree = 'steak';
}

let dinner = new Meal();
dinner.entree = 'salmon';
// Cannot assign to read only property 'entree' of [object Object]
</div>

            <img class="stage" src="pictures/proposal.png" />
        </div>
    </section>



<!--PROPOSAL-Observable-->
    <section class="slide">
        <div class="with-code">
            <h2>Observable</h2>
            <button id="button">click me!</button>
            <script>
                var Observable = Rx.Observable;
                var clicks = Observable.fromEvent(button, 'click');

                var sub = clicks.forEach(
                    function onNext(e) {
                        console.log('clicked', e);
                    },
                    function onError(e) {
                        console.log('error');
                    },
                    function onComplete() {
                        console.log('complete');
                    }
                );
            </script>
<div class="executor-code" data-font-size="18" style="height:200px">
let button = document.getElementById('button');
let clicks = Observable.fromEvent(button, 'click');

let sub = clicks.forEach(
    function onNext(e) {
        console.log('clicked', e);
    },
    function onError(e) {
        console.log('error');
    },
    function onComplete() {
        console.log('complete');
    }
);</div>

            <img class="stage" src="pictures/proposal.png" />
        </div>
    </section>




<!--PROPOSAL-Trims-->
    <section class="slide">
        <div class="with-code">
            <h2>trimLeft/trimRight</h2>
<div class="executor-code" data-font-size="18" style="height:200px">let a, b, c, str = '       \t\t    X  \n\n            ';

a = str;
console.log(a, a.length);

b = str.trimLeft();
console.log(b, b.length);

c = str.trimRight();
console.log(c, c.length);
</div>

            <img class="stage" src="pictures/proposal.png" />
        </div>
    </section>



<!--PROPOSAL-properties-->
    <section class="slide">
        <div class="with-code">
            <h2>Class Properties</h2>
<div class="executor-code" data-font-size="18" style="height:200px">class App {
    version = 1.2;
    title = 'Lorem ipsum';
    name = this.title.toLowerCase().replace(' ', '_');

    constructor() {
        console.log(this);
    }
}

new App();
</div>

            <img class="stage" src="pictures/proposal.png" />
        </div>
    </section>



<!--PROPOSAL-properties-->
    <section class="slide">
        <div class="with-code">
            <h2>padLeft/padRight</h2>
<div class="executor-code" data-font-size="18" style="height:200px">let a, b, c, d, str = 'X';

a = str.padLeft(10);
console.log(a, a.length);

b = str.padRight(10, '*');
console.log(b, b.length);

c = str.padLeft(5, '_');
console.log(c, c.length);

d = str.padLeft(5).padRight(10);
console.log(c, c.length); // Chaining not working :(
</div>

            <img class="stage" src="pictures/proposal.png" />
        </div>
    </section>




<!--STRAWMAN-properties-->
    <section class="slide">
        <div class="with-code">
            <ol>
                <li>Defensible Classes</li>
                <li>Relationships</li>
                <li>String.prototype.at</li>
                <li>Structured Clone</li>
                <li>Weak References</li>
                <li>Object.getOwnPropertyDescriptors</li>
                <li>Set/Map.prototype.toJSON</li>
                <li>HTML Attribute Event Handlers</li>
                <li>Reflect.isCallable/Reflect.isConstructor</li>
                <li>Additional metaproperties</li>
                <li>Function Bind Syntax</li>
                <li>Do Expressions</li>
                <li>RegExp Look-behind</li>
            </ol>

            <img class="stage" src="pictures/strawman.png" />
        </div>
    </section>



    <section class="slide shout">
        <div>
            <h2 style="text-align:center"><strong>Thanks!</strong></h2>
        </div>
        
    </section>


    <section class="slide">
        <div>
            <h2 style="text-align:right"><strong>Links</strong></h2>

            <ol style="margin-top:80px">
                <li><a href="https://github.com/tc39/ecma262">ECMAScript - Current Proposals</a> [github]</li>
                <li><a href="https://www.youtube.com/watch?v=DqMFX91ToLw">Netflix JavaScript Talks - Version 7: The Evolution of JavaScript</a> [youtube]</li>
                <li><a href="http://kangax.github.io/compat-table/es7/">Kangax - compatibility table</a> [www]</li>
                <li><a href="http://piecioshka.github.io/executor-editor/demo/">ES7 executor by Piecioshka</a> [www]</li>
            </ol>

            <img class="transpiler-logo babel" src="pictures/babel.png" />
            <img class="transpiler-logo traceur" src="pictures/traceur.png" />

        </div>
    </section>

    <p class="badge"><a href="https://github.com/ksyrytczyk/presentation-warsawjs-es7">Fork me on Github</a></p>
    <p class="badge badge-left"><a href="#">Fullscreen</a></p>

    <div class="progress">
        <div></div>
    </div>

    <script src="vendor/gamepad/gamepad.js"></script>
    <script src="vendor/shower/shower.js"></script>
    <script>
        shower.debugMode = false;
    </script>
    <script src="vendor/shower/shower.gamepad.js"></script>
    <script src="themes/warsawjs/scripts/fullscreen.js"></script>
</body>
</html>

